本研究では内側半径1mの円と外側半径2mの円で作られた幅1mの円形コースで実験する．
内側のコース壁を薄青色に塗って，
外側のコース壁を青色の縞模様としている．
時計回りロボット4台と反時計回りロボット4台を２つずつセットにしてコースの中にランダムに置いて，
約8分間実験した．


ロボットが破線1から反時計回りで破線2まで移動して，$\theta$が0から$\pi$に変わる．
破線1から時計回りで破線2まで移動して，$\theta$が0から$-\pi$に変わる．
$R$はロボットからコース中心までの距離である(Fig.\ref{courseshitar})．

\begin{figure}[h]
        \centering
        \includegraphics[width=0.6\linewidth]{shitaR.eps}
        \caption{実験の様子(俯瞰図)と$\theta$の説明}
        \label{courseshitar}
\end{figure}

実験$i$の$j$番目のロボットの周回数を$n_{ij}$とする．
すなわち，ロボットが反時計回りで破線1を通過したら，通過回数$n_{ij}$に$+1$，
ロボットが時計回りで破線1を通過したら，通過回数$n_{ij}$に$-1$する．
各ロボットの通過回数の絶対値を足し算して，1回の実験の流量$Q_i$になる．

\begin{eqnarray}
Q_i &=& \frac{\sum_{j=1}^{k} |n_{ij}|}{wT_i}
\label{eq:flow} \\
\bar{Q} &=& \frac{1}{N_{\rm exp}}\sum_{i=1}^{N_{\rm exp}} Q_i
\label{eq:flow_ave} 
\end{eqnarray}


$T_i$は$i$番目の実験の1方向走行流になる時間である(先行研究\cite{li2020}の$T_{\rm 1d}$と同じ，単位:min)，
$n_{ij}$が$T_i$以内の通過回数である．
1方向走行流になった後の通過回数は流量に含めないこととする．
(\ref{eq:flow})式で$i$番目の実験の流量$Q_i$を求めて，
(\ref{eq:flow_ave})式で流量の平均値を求める．
本研究の流量が対面流の流量である．
$k$はロボットの台数である(今回の実験で1から8まで合計8台ロボットを使ったので $k=8$)．

$w$がコースの幅(単位:m)，
$N_{\rm exp}$は全実験回数を表す．

ロボットが渋滞状態を解消する能力も比較するため，２つロボットをペアとして，
ランダムの初期配置(Fig.\ref{randstart})と渋滞の初期配置(Fig.\ref{crowdstart})の実験を行った



\vspace{-1mm}
\begin{figure}[h]
    \begin{minipage}{0.49\linewidth}
        \centering
        \includegraphics[width=1.0\linewidth]{startrand.eps}
        \caption{ランダムの初期配置(Random)}
        \label{randstart}
    \end{minipage}
    \begin{minipage}{0.49\linewidth}
        \centering
        \includegraphics[width=1.0\linewidth]{start_crowd.eps}
        \caption{渋滞の初期配置(Crowd)}
        \label{crowdstart}
    \end{minipage}
\end{figure}
